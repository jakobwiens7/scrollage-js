/*! For license information please see LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Scrollage=e():t.Scrollage=e()}(this,(()=>(()=>{"use strict";var t={d:(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})}};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),t.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var e={};t.d(e,{default:()=>W});var n=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,i){return t[0]===e&&(n=i,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.__entries__;n<i.length;n++){var s=i[n];t.call(e,s[1],s[0])}},e}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,s=void 0!==t.g&&t.g.Math===Math?t.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),r="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(s):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var o=["top","right","bottom","left","width","height","size","weight"],a="undefined"!=typeof MutationObserver,c=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,i=!1,s=0;function o(){n&&(n=!1,t()),i&&c()}function a(){r(o)}function c(){var t=Date.now();if(n){if(t-s<2)return;i=!0}else n=!0,i=!1,setTimeout(a,e);s=t}return c}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),a?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;o.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),u=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var s=i[n];Object.defineProperty(t,s,{value:e[s],enumerable:!1,writable:!1,configurable:!0})}return t},l=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||s},h=b(0,0,0,0);function d(t){return parseFloat(t)||0}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+d(t["border-"+n+"-width"])}),0)}function p(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return h;var i=l(t).getComputedStyle(t),s=function(t){for(var e={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var s=i[n],r=t["padding-"+s];e[s]=d(r)}return e}(i),r=s.left+s.right,o=s.top+s.bottom,a=d(i.width),c=d(i.height);if("border-box"===i.boxSizing&&(Math.round(a+r)!==e&&(a-=f(i,"left","right")+r),Math.round(c+o)!==n&&(c-=f(i,"top","bottom")+o)),!function(t){return t===l(t).document.documentElement}(t)){var u=Math.round(a+r)-e,p=Math.round(c+o)-n;1!==Math.abs(u)&&(a-=u),1!==Math.abs(p)&&(c-=p)}return b(s.left,s.top,a,c)}var g="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof l(t).SVGGraphicsElement}:function(t){return t instanceof l(t).SVGElement&&"function"==typeof t.getBBox};function v(t){return i?g(t)?function(t){var e=t.getBBox();return b(0,0,e.width,e.height)}(t):p(t):h}function b(t,e,n,i){return{x:t,y:e,width:n,height:i}}var m=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=b(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=v(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),y=function(t,e){var n,i,s,r,o,a,c,l=(i=(n=e).x,s=n.y,r=n.width,o=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(a.prototype),u(c,{x:i,y:s,width:r,height:o,top:s,right:i+r,bottom:o+s,left:i}),c);u(this,{target:t,contentRect:l})},w=function(){function t(t,e,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=i}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof l(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new m(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof l(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new y(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),_="undefined"!=typeof WeakMap?new WeakMap:new n,E=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),i=new w(e,n,this);_.set(this,i)};["observe","unobserve","disconnect"].forEach((function(t){E.prototype[t]=function(){var e;return(e=_.get(this))[t].apply(e,arguments)}}));const S=void 0!==s.ResizeObserver?s.ResizeObserver:E;function O(t,e=100){let n;return function(...i){n&&clearTimeout(n),n=setTimeout((()=>t.apply(this,i)),e)}}function M(t){if("number"==typeof t)return{value:t};if(!t||"string"!=typeof t)return;let e=t.match(/^([-.\d]+(?:\.\d+)?)(.*)$/);return{value:Number(e[1].trim()),unit:e[2].trim()}}function x(t,e,n,i,s=0){switch(t){case"vw":return n.x*e/100;case"vh":return n.y*e/100;case"px":return e;default:return(i-s)*e/100}}function z(t,e=1){return Math.round(t*10**e)/10**e}function k(t,e="JSON data"){try{return JSON.parse(t)}catch(t){return console.warn(`ScrollageJS: Invalid JSON in ${e}.`,t),{}}}const $={sinein:t=>1-Math.cos(t*Math.PI*.5),sineout:t=>Math.sin(t*Math.PI*.5),sineinout:t=>.5*(1-Math.cos(t*Math.PI)),cubicin:t=>t*t*t,cubicout:t=>{const e=t-1;return 1+e*e*e},cubicinout:t=>{const e=t-1,n=2*t;return n<1?t*n*n:1+e*e*e*4},quinticin:t=>t*t*t*t*t,quinticout:t=>{const e=t-1;return 1+e*e*e*e*e},quinticinout:t=>{const e=t-1,n=2*t;return n<1?t*n*n*n*n:1+e*e*e*e*e*16},circlein:t=>1-Math.sqrt(1-t*t),circleout:t=>{const e=t-1;return Math.sqrt(1-e*e)},circleinout:t=>{const e=t-1,n=2*t;return n<1?.5*(1-Math.sqrt(1-n*n)):.5*(Math.sqrt(1-4*e*e)+1)},backin:t=>{const e=1.70158;return t*t*(t*(e+1)-e)},backout:t=>{const e=t-1,n=1.70158;return 1+e*e*(e*(n+1)+n)},backinout:t=>{const e=t-1,n=2*t,i=2.5949095;return t<.5?t*n*(n*(i+1)-i):1+2*e*e*(2*e*(i+1)+i)},bouncein:t=>1-$.OutBounce(1-t),bounceout:t=>{const e=1/2.75,n=7.5625,i=0;return t<e?n*t*t:t<2*e?n*(i=t-1.5*e)*i+.75:t<2.5*e?n*(i=t-2.25*e)*i+.9375:n*(i=t-2.625*e)*i+.984375},bounceinout:t=>{const e=2*t;return e<1?.5-.5*$.OutBounce(1-e):.5+.5*$.OutBounce(e-1)},elasticin:t=>{const e=t-1;return-Math.pow(2,10*e)*Math.sin((40*e-3)*Math.PI/6)},elasticout:t=>1+Math.pow(2,-10*t)*Math.sin((40*-t-3)*Math.PI/6),elasticinout:t=>{const e=2*t-1,n=(80*e-9)*Math.PI/18;return e<0?-.5*Math.pow(2,10*e)*Math.sin(n):1+.5*Math.pow(2,-10*e)*Math.sin(n)}},T=$,A={move:{x:{start:{unit:"%",value:0},end:{unit:"%",value:0}},y:{start:{unit:"%",value:0},end:{unit:"%",value:0}},easing:!1,responsive:null},rotate:{start:{value:0},end:{value:0},x:{start:{value:0},end:{value:0}},y:{start:{value:0},end:{value:0}},z:{start:{value:0},end:{value:0}},easing:!1,responsive:null},scale:{start:{value:100},end:{value:100},x:{start:{value:100},end:{value:100}},y:{start:{value:100},end:{value:100}},z:{start:{value:100},end:{value:100}},easing:!1,responsive:null},fade:{start:{value:100},end:{value:100},easing:!1,responsive:null},saturate:{start:{value:100},end:{value:100},responsive:null},blur:{start:{value:0},end:{value:0},responsive:null}};function D(t,e){const n=Object.keys(t).reduce(((e,n)=>(e[n.toLowerCase()]=t[n],e)),{});if("start"in n||"end"in n)return{start:"start"in n?M(n.start):e.start,end:"end"in n?M(n.end):e.end};const i=["x","y","z"],s={};for(const t of i)e[t]&&(n[`start${t}`]||n[`end${t}`])&&(s[t]={start:n[`start${t}`]?M(n[`start${t}`]):e[t].start,end:n[`end${t}`]?M(n[`end${t}`]):e[t].end});return s}function L(t){const e=[],n=Object.keys(A);for(const i of n){const n=`data-animation-${i}`,s=t.getAttribute(n);if(s){const t=k(s.replace(/'/g,'"'),n),r=t.responsive||{},o=Object.keys(r).reduce(((t,e)=>(t[e]=D(r[e],A[i]),t)),{});e.push({[i]:{...D(t,A[i]),responsive:Object.keys(r).length?o:void 0,easing:t.easing||void 0}})}}return e}function P(t,e,n=0,i=!1){return n=Math.max(0,Math.min(1,n)),i&&T[i.toLowerCase()]&&(n=T[i.toLowerCase()](n)),t+(e-t)*n}function R(t,e,n,i,s){const r=r=>{if(!t[r])return 0;const{start:o,end:a}=t[r];return P(x(o.unit,o.value,s,n[r],i[r]),x(a.unit,a.value,s,n[r],i[r]),e,t.easing)};return`translate(${z(r("x"))}px, ${z(r("y"))}px)`}function j(t,e){const n=n=>t[n]?P(t[n].start.value,t[n].end.value,e,t.easing):null;if(t.start&&t.end){return`rotate(${z(P(t.start.value,t.end.value,e,t.easing))}deg)`}const i=[];return t.x&&i.push(`rotateX(${z(n("x"))}deg)`),t.y&&i.push(`rotateY(${z(n("y"))}deg)`),t.z&&i.push(`rotateZ(${z(n("z"))}deg)`),i.join(" ")}function B(t,e){const n=n=>t[n]?P(t[n].start.value/100,t[n].end.value/100,e,t.easing):null;if(t.start&&t.end){return`scale(${z(P(t.start.value/100,t.end.value/100,e,t.easing),2)})`}const i=[];return t.x&&i.push(`scaleX(${n("x")})`),t.y&&i.push(`scaleY(${n("y")})`),i.join(" ")}function I(t,e){return z(P(t.start.value,t.end.value,e,t.easing)/100,2)}function q(t,e){return`blur(${z(P(t.start.value,t.end.value,e),0)}px)`}class V{static DEBUG_MODE=!1;static VERSION="1.0.0";static DEFAULT_OPTIONS={direction:"vertical",source:null,breakpoints:[781,1024,1366],triggers:[],initialize:!0};static supportsPassive=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(t){}return t}();static handleResizeEvent(){V.instances.forEach((t=>t.init()))}static instances=[];static isInitialized=!1;constructor(t,e={}){V.instances.push(this),"loading"===document.readyState&&console.warn("ScrollageJS: DOM is not fully loaded. Ensure initialization happens after `DOMContentLoaded`."),this.el=t||".scrollage",this.options={...V.DEFAULT_OPTIONS,...e},this.source=null,this.isDocumentSource=!0,this.sourceSizes={},this.winSizes={},this.wrapperSizes={},this.currentBreakpoint=null,this.reducedMotion=!1,this.breakpoints=[],this.elems=[],this.blocks=[],this.triggers=[],this.options.initialize&&this.init()}init(){var t,e;if(this.destroy(),this.reducedMotion=window.matchMedia("(prefers-reduced-motion: reduce)").matches,this.reducedMotion&&console.warn('ScrollageJS: "prefers-reduced-motion" is enabled. Animations will be disabled.'),this.elems="string"==typeof this.el?document.querySelectorAll(this.el):this.el instanceof NodeList?this.el:[this.el],this.isVertical="horizontal"!==this.options.direction,this.options.source&&(this.source=this.validateEl(this.options.source,"source"),this.isDocumentSource=!1),this.options.source&&this.source||(this.source=document.documentElement||document.body,this.isDocumentSource=!0),this.sourceSizes={x:this.source.scrollWidth,y:this.source.scrollHeight},this.wrapperSizes={x:this.source.offsetWidth,y:this.source.offsetHeight},this.winSizes={x:window.innerWidth,y:window.innerHeight},this.breakpoints=function(t=[]){if(3===t.length&&Array.isArray(t)){let e,n=!0,i=!0;if(t.forEach((t=>{"number"!=typeof t&&(i=!1),null!==e&&t<e&&(n=!1),e=t})),n&&i)return!0}return console.warn("ScrollageJS: Breakpoints need to be an array of 3 values in ascending order."),!1}(this.options.breakpoints)?this.options.breakpoints:V.DEFAULT_OPTIONS.breakpoints,this.currentBreakpoint=(t=this.winSizes.x,e=this.breakpoints,t<=e[0]?"phone":t<=e[1]?"tablet":t<=e[2]?"laptop":"desktop"),this.blocks?.length)for(let t=0;t<this.blocks.length;t++)this.elems[t].style.cssText=this.blocks[t].originalStyles||"";this.cacheBlocks(),this.cacheTriggers(),this.setupListeners(),this.update(),V.isInitialized=!0,V.DEBUG_MODE&&console.log(this)}setupListeners(){V.isInitialized||(V.debouncedInit=O(V.handleResizeEvent,300),window.addEventListener("resize",V.debouncedInit),window.addEventListener("orientationchange",V.debouncedInit)),(this.options.source?this.source:window)?.addEventListener("scroll",this.update,!!V.supportsPassive&&{passive:!0}),(this.options.source?this.source:window)?.addEventListener("touchmove",this.update,!!V.supportsPassive&&{passive:!0}),this.resizeObserver||(this.resizeObserver=new S(O((()=>this.init()))),this.resizeObserver.observe(this.source)),this.isActive=!0}validateEl(t,e="element"){if(t instanceof HTMLElement)return t;if("string"==typeof t)try{document.querySelector(t);const e=document.querySelector(t);if(e)return e}catch(n){return console.warn(`ScrollageJS: Invalid selector "${t}" in ${e}.`),null}return null}cacheBlocks=()=>{this.blocks=[];for(let t=0;t<this.elems.length;t++){const e=this.elems[t],n=e.getAttribute("data-timeline-range"),i=e.getAttribute("data-timeline-offset");let s=0,r=0;if(i){const t=i.split(/\s+/);s=t[0]||0,r=t[1]||0}const o=e.style.cssText,a=L(e),c=n?this.validateEl(n,"timeline range"):null,u={x:c?.clientWidth||this.source.scrollWidth,y:c?.clientHeight||this.source.scrollHeight},l={x:e.clientWidth,y:e.clientHeight},h=this.getTimelineRange(c,s,r),d=this.getScrollProgress(c,h);this.blocks.push({progress:d,rangeEl:c,rangeSizes:u,elSizes:l,timelineRangeData:h,animations:a,originalStyles:o})}};cacheTriggers=()=>{if(this.triggers=[],this.options.triggers&&Array.isArray(this.options.triggers))for(let t=0;t<this.options.triggers.length;t++){const e=this.options.triggers[t];if(!e.class||"string"!=typeof e.class)continue;const n=e.range?this.validateEl(e.range,"trigger range"):null;if(e.range&&!n)continue;const i="_self"===e.target?n:e.target?this.validateEl(e.target,"trigger target"):null;if(e.target&&!i)continue;const s=M(e.position)||{value:0};let r,o=0;if(e.range){const t=this.isVertical?n.scrollHeight:n.scrollWidth,e=n.getBoundingClientRect();o=(this.isVertical?e.top:e.left)+this.getScrollPos(),r=x(s.unit,s.value,this.winSizes,t)}else{const t=this.sourceSizes[this.isVertical?"y":"x"];r=x(s.unit,s.value,this.winSizes,t)}this.triggers.push({position:o+r,class:e.class,targetEl:i||this.source})}};triggerClasses=()=>{const t=this.getScrollPos();for(const e of this.triggers)t>e.position?e.targetEl.classList.add(e.class):e.targetEl.classList.remove(e.class)};getScrollPos=()=>this.isVertical?this.source.scrollTop:this.source.scrollLeft;getTimelineRange=(t=null,e=0,n=0)=>{const i=this.winSizes[this.isVertical?"y":"x"],s=this.wrapperSizes[this.isVertical?"y":"x"],r=M(e),o=M(n),a=r?.value||0,c=r?.unit||"%",u=o?.value||0,l=o?.unit||"%";let h,d,f,p=0,g=0,v=0,b=0,m=this.sourceSizes[this.isVertical?"y":"x"];const y=this.isDocumentSource?i:s;if(t&&t!=this.source){h=this.isVertical?t.offsetHeight:t.offsetWidth;const e=this.isVertical?this.source.getBoundingClientRect().top:this.source.getBoundingClientRect().left;d=(this.isVertical?t.getBoundingClientRect().top:t.getBoundingClientRect().left)-e,f=d+h,v=x(c,a,this.winSizes,h),b=x(l,u,this.winSizes,h),p=Math.max(0,d+v-y),g=Math.max(p,Math.min(f+b,m-y))}else v=x(c,a,this.winSizes,m),b=x(l,u,this.winSizes,m),p=Math.max(0,v-(this.isDocumentSource?0:y)),g=Math.max(p,Math.min(m+b-(this.isDocumentSource?i:0),m-y));return V.DEBUG_MODE&&(console.log(`contextRangeStart: ${d}  ||  contextRangeEnd: ${f}`),console.log(`rangeOffsetStart: ${v}  ||  rangeOffsetEnd: ${b}`),console.log(`timelineRangeStart*: ${p}  ||  timelineRangeEnd*: ${g}`),console.log(`cntxtWinSize: ${i}  ||  cntxtWrapperSize: ${s}`),console.log(`cntxtSourceSize: ${m}  ||  cntxtRangeSize: ${h}`)),{start:p,end:g}};getScrollProgress=(t=null,e=null)=>{const n=this.getScrollPos(),i=t?this.validateEl(t,"range"):this.source;e||(e=this.getTimelineRange(i));const s=e.start-n,r=e.end-n;let o=s/(r-s)*-100;return o=Math.min(100,Math.max(0,o)),V.DEBUG_MODE&&(console.log(`scrollPos: ${n}  ||  scrollPercentage: ${o}`),console.log(`scrollStartPos: ${s}  ||  scrollEndPos: ${r}`)),o/100};update=()=>{for(let t=0;t<this.blocks.length;t++)this.blocks[t].progress=this.getScrollProgress(this.blocks[t].rangeEl,this.blocks[t].timelineRangeData);this.triggerClasses(),this.reducedMotion||requestAnimationFrame(this.animate)};animate=()=>{for(let n=0;n<this.blocks.length;n++){const i=this.blocks[n];if(!i.animations.length)continue;const s=this.currentBreakpoint,r=this.elems[n];if(!r)continue;let o,a=[],c=[],u=null;for(let n=0;n<i.animations.length;n++){const r=i.animations[n];r.move&&(o=r.move.responsive?.[s]||r.move,a.push(R(o,i.progress,i.rangeSizes,i.elSizes,this.winSizes))),r.rotate&&(o=r.rotate.responsive?.[s]||r.rotate,a.push(j(o,i.progress))),r.scale&&(o=r.scale.responsive?.[s]||r.scale,a.push(B(o,i.progress))),r.saturate&&(o=r.saturate.responsive?.[s]||r.saturate,o.start&&o.end&&c.push((t=o,e=i.progress,`saturate(${z(P(t.start.value,t.end.value,e),0)}%)`))),r.blur&&(o=r.blur.responsive?.[s]||r.blur,o.start&&o.end&&c.push(q(o,i.progress))),r.fade&&(o=r.fade.responsive?.[s]||r.fade,o.start&&o.end&&(u=I(o,i.progress)))}a.length&&(r.style.transform=a.join(" ")),c.length&&(r.style.filter=c.join(" ")),null!=u&&(r.style.opacity=u)}var t,e};destroy=()=>{for(let t=0;t<this.elems.length;t++)this.elems[t].style.cssText=this.blocks[t]?.originalStyles||"";this.elems=[],this.blocks=[];for(let t=0;t<this.triggers.length;t++)this.triggers[t].targetEl.classList.remove(this.triggers[t]?.class);this.triggers=[],(this.options.source?this.source:window)?.removeEventListener("scroll",this.update),(this.options.source?this.source:window)?.removeEventListener("touchmove",this.update),this.resizeObserver?.disconnect()}}const W=V;return"undefined"!=typeof window&&(window.Scrollage=V),e=e.default})()));