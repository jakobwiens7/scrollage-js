/*! For license information please see LICENSE.txt */
(()=>{"use strict";function t(t,e=100){let s;return function(...i){s&&clearTimeout(s),s=setTimeout((()=>t.apply(this,i)),e)}}function e(t){if("number"==typeof t)return{value:t};if(!t||"string"!=typeof t)return;let e=t.match(/^([-.\d]+(?:\.\d+)?)(.*)$/);return{value:Number(e[1].trim()),unit:e[2].trim()}}function s(t,e,s,i,r=0){switch(t){case"vw":return s.x*e/100;case"vh":return s.y*e/100;case"px":return e;default:return(i-r)*e/100}}function i(t,e=1){return Math.round(t*10**e)/10**e}function r(t,e="element"){if(t instanceof HTMLElement)return t;if("string"==typeof t){const e=document.querySelector(t);if(e)return e}return console.warn(`ScrollageJS: Your desired ${e} "${t}" is not a valid element or selector.`),null}function n(t,e="JSON data"){try{return JSON.parse(t)}catch(t){return console.warn(`ScrollageJS: Invalid JSON in ${e}.`,t),{}}}const a={insine:t=>1-Math.cos(t*Math.PI*.5),outsine:t=>Math.sin(t*Math.PI*.5),inoutsine:t=>.5*(1-Math.cos(t*Math.PI)),incubic:t=>t*t*t,outcubic:t=>{const e=t-1;return 1+e*e*e},inoutcubic:t=>{const e=t-1,s=2*t;return s<1?t*s*s:1+e*e*e*4},inquintic:t=>t*t*t*t*t,outquintic:t=>{const e=t-1;return 1+e*e*e*e*e},inoutquintic:t=>{const e=t-1,s=2*t;return s<1?t*s*s*s*s:1+e*e*e*e*e*16},incircle:t=>1-Math.sqrt(1-t*t),outcircle:t=>{const e=t-1;return Math.sqrt(1-e*e)},inoutcircle:t=>{const e=t-1,s=2*t;return s<1?.5*(1-Math.sqrt(1-s*s)):.5*(Math.sqrt(1-4*e*e)+1)},inback:t=>{const e=1.70158;return t*t*(t*(e+1)-e)},outback:t=>{const e=t-1,s=1.70158;return 1+e*e*(e*(s+1)+s)},inoutback:t=>{const e=t-1,s=2*t,i=2.5949095;return t<.5?t*s*(s*(i+1)-i):1+2*e*e*(2*e*(i+1)+i)},inbounce:t=>1-a.OutBounce(1-t),outbounce:t=>{const e=1/2.75,s=7.5625,i=0;return t<e?s*t*t:t<2*e?s*(i=t-1.5*e)*i+.75:t<2.5*e?s*(i=t-2.25*e)*i+.9375:s*(i=t-2.625*e)*i+.984375},inoutbounce:t=>{const e=2*t;return e<1?.5-.5*a.OutBounce(1-e):.5+.5*a.OutBounce(e-1)},inelastic:t=>{const e=t-1;return-Math.pow(2,10*e)*Math.sin((40*e-3)*Math.PI/6)},outelastic:t=>1+Math.pow(2,-10*t)*Math.sin((40*-t-3)*Math.PI/6),inoutelastic:t=>{const e=2*t-1,s=(80*e-9)*Math.PI/18;return e<0?-.5*Math.pow(2,10*e)*Math.sin(s):1+.5*Math.pow(2,-10*e)*Math.sin(s)}},o=a,l={move:{x:{start:{unit:"%",value:0},end:{unit:"%",value:0}},y:{start:{unit:"%",value:0},end:{unit:"%",value:0}},easing:!1,responsive:null},rotate:{start:{value:0},end:{value:0},x:{start:{value:0},end:{value:0}},y:{start:{value:0},end:{value:0}},z:{start:{value:0},end:{value:0}},easing:!1,responsive:null},scale:{start:{value:100},end:{value:100},x:{start:{value:100},end:{value:100}},y:{start:{value:100},end:{value:100}},z:{start:{value:100},end:{value:100}},easing:!1,responsive:null},fade:{start:{value:100},end:{value:100},easing:!1,responsive:null},saturate:{start:{value:100},end:{value:100},responsive:null},blur:{start:{value:0},end:{value:0},responsive:null}};function u(t,s){const i=Object.keys(t).reduce(((e,s)=>(e[s.toLowerCase()]=t[s],e)),{});if("start"in i||"end"in i)return{start:"start"in i?e(i.start):s.start,end:"end"in i?e(i.end):s.end};const r=["x","y","z"],n={};for(const t of r)s[t]&&(i[`start${t}`]||i[`end${t}`])&&(n[t]={start:i[`start${t}`]?e(i[`start${t}`]):s[t].start,end:i[`end${t}`]?e(i[`end${t}`]):s[t].end});return n}function c(t){const e=[],s=Object.keys(l);for(const i of s){const s=`data-scrollage-${i}`,r=t.getAttribute(s);if(r){const t=n(r,s),a=t.responsive||{},o=Object.keys(a).reduce(((t,e)=>(t[e]=u(a[e],l[i]),t)),{});e.push({[i]:{...u(t,l[i]),responsive:Object.keys(a).length?o:void 0,easing:t.easing||void 0}})}}return e}function h(t,e,s=0,i=!1){return s=Math.max(0,Math.min(1,s)),i&&o[i.toLowerCase()]&&(s=o[i.toLowerCase()](s)),t+(e-t)*s}function p(t,e,r,n,a){const o=i=>{if(!t[i])return 0;const{start:o,end:l}=t[i];return h(s(o.unit,o.value,a,r[i],n[i]),s(l.unit,l.value,a,r[i],n[i]),e,t.easing)};return`translate(${i(o("x"))}px, ${i(o("y"))}px)`}function g(t,e){const s=s=>t[s]?h(t[s].start.value,t[s].end.value,e,t.easing):null;if(t.start&&t.end){return`rotate(${i(h(t.start.value,t.end.value,e,t.easing))}deg)`}const r=[];return t.x&&r.push(`rotateX(${i(s("x"))}deg)`),t.y&&r.push(`rotateY(${i(s("y"))}deg)`),t.z&&r.push(`rotateZ(${i(s("z"))}deg)`),r.join(" ")}function d(t,e){const s=s=>t[s]?h(t[s].start.value/100,t[s].end.value/100,e,t.easing):null;if(t.start&&t.end){return`scale(${i(h(t.start.value/100,t.end.value/100,e,t.easing),2)})`}const r=[];return t.x&&r.push(`scaleX(${s("x")})`),t.y&&r.push(`scaleY(${s("y")})`),r.join(" ")}function v(t,e){return i(h(t.start.value,t.end.value,e,t.easing)/100,2)}function f(t,e){return`blur(${i(h(t.start.value,t.end.value,e),0)}px)`}class w{static version="0.9.3";static supportsPassive=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(t){}return t}();static DEFAULT_OPTIONS={direction:"vertical",breakpoints:[781,1024,1366],wrapper:null,triggers:[]};constructor(t,e={}){"loading"===document.readyState&&console.warn("ScrollageJS: DOM is not fully loaded. Ensure initialization happens after `DOMContentLoaded`."),this.el=t||".scrollage",this.options={...w.DEFAULT_OPTIONS,...e},this.wrapper=null,this.winSize={},this.currentBreakpoint=null,this.breakpoints=[],this.elems=[],this.blocks=[],this.triggers=[],this.init()}init(){if(this.elems="string"==typeof this.el?document.querySelectorAll(this.el):NodeList.prototype.isPrototypeOf(this.el)?this.el:[this.el],this.elems&&this.elems.length){var e,s;if(this.isVertical="horizontal"!==this.options.direction,this.wrapper=this.options.wrapper?r(this.options.wrapper,"wrapper"):document.documentElement||document.body,this.wrapperSize={x:this.wrapper.scrollWidth,y:this.wrapper.scrollHeight},this.winSize={x:window.innerWidth,y:window.innerHeight},this.breakpoints=function(t=[]){if(3===t.length&&Array.isArray(t)){let e,s=!0,i=!0;if(t.forEach((t=>{"number"!=typeof t&&(i=!1),null!==e&&t<e&&(s=!1),e=t})),s&&i)return!0}return console.warn("ScrollageJS: Breakpoints need to be an array of 3 values in ascending order."),!1}(this.options.breakpoints)?this.options.breakpoints:w.DEFAULT_OPTIONS.breakpoints,this.currentBreakpoint=(e=this.winWidth,s=this.breakpoints,e<=s[0]?"phone":e<=s[1]?"tablet":e<=s[2]?"laptop":"desktop"),this.blocks?.length)for(let t=0;t<this.blocks.length;t++)this.elems[t].style.cssText=this.blocks[t].originalStyles||"";this.cacheBlocks(),this.cacheTriggers(),window.addEventListener("resize",t(this.init.bind(this))),window.addEventListener("orientationchange",t(this.init.bind(this))),(this.options.wrapper?this.wrapper:window).addEventListener("scroll",this.update,!!w.supportsPassive&&{passive:!0}),(this.options.wrapper?this.wrapper:window).addEventListener("touchmove",this.update,!!w.supportsPassive&&{passive:!0}),this.resizeObserver||(this.resizeObserver=new ResizeObserver(t((()=>this.init()),100)),this.resizeObserver.observe(this.wrapper)),this.update(),console.log(this)}}cacheBlocks=()=>{this.blocks=[];for(let t=0;t<this.elems.length;t++){const e=this.elems[t],s=e.getAttribute("data-scrollage-range"),i=e.getAttribute("data-scrollage-offset");let n=e.getAttribute("data-scrollage-offset-start"),a=e.getAttribute("data-scrollage-offset-end");i&&(n=i,a=i.startsWith("-")?i.replace("-",""):`-${i}`);const o=e.style.cssText,l=c(e),u=s?r(s,"range"):null,h={x:u?.clientWidth||this.wrapper.scrollWidth,y:u?.clientHeight||this.wrapper.scrollHeight},p={x:e.clientWidth,y:e.clientHeight},g=this.getScrollRange(u,n,a),d=this.getScrollProgress(u,g);this.blocks.push({progress:d,rangeEl:u,rangeSize:h,elSize:p,scrollRangeData:g,animations:l,originalStyles:o})}};cacheTriggers=()=>{if(this.triggers=[],this.options.triggers&&Array.isArray(this.options.triggers))for(let t=0;t<this.options.triggers.length;t++){const i=this.options.triggers[t];if(!i.class||"string"!=typeof i.class)continue;const n=i.range?r(i.range,"trigger range"):null;if(i.range&&!n)continue;const a="_self"===i.target?n:i.target?r(i.target,"trigger target"):null;if(i.target&&!a)continue;const o=e(i.position)||{value:0};let l,u=0;if(i.range){const t=this.isVertical?n.scrollHeight:n.scrollWidth,e=n.getBoundingClientRect();u=(this.isVertical?e.top:e.left)+this.getScrollPos(),l=s(o.unit,o.value,this.winSize,t)}else{const t=this.wrapperSize[this.isVertical?"y":"x"];l=s(o.unit,o.value,this.winSize,t)}this.triggers.push({position:u+l,class:i.class,targetEl:a||this.wrapper})}};triggerClasses=()=>{const t=this.getScrollPos();for(const e of this.triggers)e.targetEl.classList.toggle(e.class,t>e.position)};getScrollPos=()=>this.isVertical?this.wrapper.scrollTop:this.wrapper.scrollLeft;getScrollRange=(t=null,i=0,r=0)=>{const n=e(i),a=e(r),o=-n?.value||0,l=n?.unit||"%",u=a?.value||0,c=a?.unit||"%";let h=0,p=0,g=0,d=0;if(t&&t!=this.wrapper){const e=this.isVertical?t.scrollHeight:t.scrollWidth,i=t.getBoundingClientRect(),r=this.getScrollPos();h=Math.round(100*((this.isVertical?i.top:i.left)+r))/100,p=Math.round(100*((this.isVertical?i.bottom:i.right)+r))/100,g=s(l,o,this.winSize,e),d=s(c,u,this.winSize,e)}else{const t=this.wrapperSize[this.isVertical?"y":"x"];p=t,g=s(l,o,this.winSize,t),d=s(c,u,this.winSize,t)}return{start:h,end:p,startOffset:g,endOffset:d,size:p+d-(h+g)}};getScrollProgress=(t=null,e=null)=>{const s=this.getScrollPos(),i=this.isVertical?this.winSize.y:this.winSize.x,n=this.isVertical?this.wrapperSize.y:this.wrapperSize.x,a=t?r(t,"range"):this.wrapper;e||(e=this.getScrollRange(a));const o=e.start+e.startOffset,l=e.end+e.endOffset,u=t?Math.max(0,o-i)-s:Math.max(0,o)-s;let c=u/((t?Math.min(n-i,l)-s:Math.min(e.end-i,l-i)-s)-u)*-100;return c=Math.min(100,Math.max(0,c)),c/100};update=()=>{for(let t=0;t<this.blocks.length;t++)this.blocks[t].progress=this.getScrollProgress(this.blocks[t].rangeEl,this.blocks[t].scrollRangeData);this.triggerClasses(),requestAnimationFrame(this.animate)};animate=()=>{for(let s=0;s<this.blocks.length;s++){const r=this.blocks[s];if(!r.animations.length)continue;const n=this.currentBreakpoint,a=this.elems[s];let o=[],l=[],u=null;for(let s=0;s<r.animations.length;s++){const a=r.animations[s];a.move&&o.push(p(a.move.responsive?.[n]||a.move,r.progress,r.rangeSize,r.elSize,this.winSize)),a.rotate&&o.push(g(a.rotate.responsive?.[n]||a.rotate,r.progress)),a.scale&&o.push(d(a.scale.responsive?.[n]||a.scale,r.progress)),a.saturate&&l.push((t=a.saturate.responsive?.[n]||a.saturate,e=r.progress,`saturate(${i(h(t.start.value,t.end.value,e),0)}%)`)),a.blur&&l.push(f(a.blur.responsive?.[n]||a.blur,r.progress)),a.fade&&(u=v(a.fade.responsive?.[n]||a.fade,r.progress))}o.length&&(a.style.transform=o.join(" ")),l.length&&(a.style.filter=l.join(" ")),null!=u&&(a.style.opacity=u)}var t,e};destroy=()=>{for(let t=0;t<this.elems.length;t++)this.elems[t].style.cssText=this.blocks[t]?.originalStyles||"";this.elems=[],this.blocks=[];for(let t=0;t<this.triggers.length;t++)this.triggers[t].targetEl.classList.remove(this.triggers[t]?.class);this.triggers=[],(this.options.wrapper?this.wrapper:window).removeEventListener("scroll",this.update),(this.options.wrapper?this.wrapper:window).removeEventListener("touchmove",this.update),window.removeEventListener("resize",t(this.init.bind(this))),window.removeEventListener("orientationchange",t(this.init.bind(this))),this.resizeObserver.disconnect()}}"undefined"!=typeof window&&(window.Scrollage=w)})();